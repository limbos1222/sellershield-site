<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SellerShield ‚Äî –í—Ö–æ–¥</title>
<meta name="description" content="–í–æ–π–¥–∏—Ç–µ –≤ SellerShield –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –¥–ª—è –∑–∞—â–∏—Ç—ã –≤–∞—à–µ–≥–æ –±–∏–∑–Ω–µ—Å–∞ –Ω–∞ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞—Ö.">
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üõ°Ô∏è</text></svg>">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Onest:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{
--blue:#2563EB;--blue-dark:#1E40AF;--blue-50:#EFF6FF;--blue-100:#DBEAFE;--blue-200:#BFDBFE;
--navy:#0F172A;--text:#1E293B;--text-2:#475569;--text-3:#64748B;--text-4:#94A3B8;
--border:#E2E8F0;--bg:#FFFFFF;--bg-2:#F8FAFC;--bg-3:#F1F5F9;
--green:#059669;--red:#DC2626;
}
body{font-family:'Onest',sans-serif;background:var(--bg-2);color:var(--text);line-height:1.6;min-height:100vh;display:flex;flex-direction:column;-webkit-font-smoothing:antialiased}

/* Layout */
.auth-wrap{flex:1;display:flex;align-items:center;justify-content:center;padding:40px 20px;position:relative;overflow:hidden}
.auth-wrap::before{content:'';position:absolute;top:-200px;right:-200px;width:600px;height:600px;background:radial-gradient(circle,rgba(37,99,235,.06) 0%,transparent 70%);pointer-events:none}
.auth-wrap::after{content:'';position:absolute;bottom:-200px;left:-200px;width:500px;height:500px;background:radial-gradient(circle,rgba(37,99,235,.04) 0%,transparent 70%);pointer-events:none}

.auth-card{width:100%;max-width:420px;position:relative;z-index:1}

/* Logo */
.auth-logo{display:flex;align-items:center;justify-content:center;gap:10px;margin-bottom:36px;text-decoration:none}
.auth-logo-dot{width:36px;height:36px;background:var(--blue);border-radius:9px;display:flex;align-items:center;justify-content:center;color:white;font-size:18px;font-weight:900}
.auth-logo-text{font-size:22px;font-weight:800;color:var(--navy);letter-spacing:-.5px}

/* Tabs */
.auth-tabs{display:flex;background:var(--bg-3);border-radius:10px;padding:4px;margin-bottom:28px}
.auth-tab{flex:1;padding:10px;text-align:center;font-size:14px;font-weight:600;color:var(--text-3);border:none;background:none;border-radius:7px;cursor:pointer;transition:all .2s;font-family:inherit}
.auth-tab.active{background:var(--bg);color:var(--navy);box-shadow:0 1px 4px rgba(0,0,0,.06)}
.auth-tab:hover:not(.active){color:var(--text-2)}

/* Form card */
.auth-form-card{background:var(--bg);border:1px solid var(--border);border-radius:16px;padding:32px;box-shadow:0 4px 24px rgba(0,0,0,.04)}

/* Form */
.auth-form{display:none}
.auth-form.active{display:block;animation:fadeIn .3s ease}
@keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}

.field{margin-bottom:18px}
.field label{display:block;font-size:13px;font-weight:600;color:var(--text-2);margin-bottom:6px}
.field input,.field select{width:100%;padding:12px 14px;background:var(--bg-2);border:1px solid var(--border);border-radius:8px;color:var(--navy);font-size:14px;font-weight:500;font-family:inherit;outline:none;transition:all .2s}
.field select{appearance:none;background-image:url("data:image/svg+xml,%3Csvg width='10' height='6' viewBox='0 0 10 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5 5L9 1' stroke='%2394A3B8' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 14px center;padding-right:36px;cursor:pointer}
.field input:focus,.field select:focus{border-color:var(--blue);background:var(--bg);box-shadow:0 0 0 3px rgba(37,99,235,.08)}
.field input::placeholder{color:var(--text-4)}
.field-row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.field-hint{font-size:12px;color:var(--text-4);margin-top:4px}

/* Password field */
.pass-wrap{position:relative}
.pass-wrap input{padding-right:44px}
.pass-toggle{position:absolute;right:12px;top:50%;transform:translateY(-50%);background:none;border:none;color:var(--text-4);cursor:pointer;font-size:16px;padding:4px;transition:color .2s}
.pass-toggle:hover{color:var(--text-2)}

/* Button */
.auth-btn{width:100%;padding:14px;background:var(--blue);color:white;border:none;border-radius:10px;font-size:15px;font-weight:700;font-family:inherit;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;gap:8px;margin-top:8px}
.auth-btn:hover{background:var(--blue-dark);transform:translateY(-1px);box-shadow:0 4px 12px rgba(37,99,235,.25)}
.auth-btn:disabled{opacity:.6;cursor:not-allowed;transform:none!important;box-shadow:none!important}
.auth-btn .spinner{display:none;width:18px;height:18px;border:2px solid rgba(255,255,255,.3);border-top-color:white;border-radius:50%;animation:spin .6s linear infinite}
.auth-btn.loading .spinner{display:block}
.auth-btn.loading .btn-text{display:none}
@keyframes spin{to{transform:rotate(360deg)}}

/* Divider */
.auth-divider{display:flex;align-items:center;gap:12px;margin:20px 0;color:var(--text-4);font-size:12px;font-weight:500}
.auth-divider::before,.auth-divider::after{content:'';flex:1;height:1px;background:var(--border)}

/* Social btn */
.auth-social{width:100%;padding:12px;background:var(--bg);border:1px solid var(--border);border-radius:10px;font-size:14px;font-weight:600;color:var(--navy);font-family:inherit;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;gap:10px}
.auth-social:hover{border-color:var(--blue);background:var(--blue-50);transform:translateY(-1px)}
.auth-social svg{width:20px;height:20px}

/* Error */
.auth-error{background:#FEF2F2;border:1px solid #FECACA;color:var(--red);padding:10px 14px;border-radius:8px;font-size:13px;font-weight:500;margin-bottom:16px;display:none;align-items:center;gap:8px}
.auth-error.show{display:flex}

/* Success */
.auth-success{display:none;text-align:center;padding:20px 0;animation:fadeIn .4s ease}
.auth-success.show{display:block}
.auth-success-icon{font-size:48px;margin-bottom:12px}
.auth-success h3{font-size:20px;font-weight:800;color:var(--navy);margin-bottom:6px}
.auth-success p{color:var(--text-2);font-size:14px;line-height:1.6}

/* Footer note */
.auth-footer{text-align:center;margin-top:24px;font-size:13px;color:var(--text-4)}
.auth-footer a{color:var(--blue);text-decoration:none;font-weight:500}
.auth-footer a:hover{text-decoration:underline}

/* Checkbox */
.check-row{display:flex;align-items:flex-start;gap:8px;margin:16px 0 4px}
.check-row input[type="checkbox"]{margin-top:3px;accent-color:var(--blue);width:16px;height:16px;cursor:pointer}
.check-row label{font-size:13px;color:var(--text-3);cursor:pointer;line-height:1.5}
.check-row label a{color:var(--blue);text-decoration:none}

/* Toast */
.toast{position:fixed;bottom:24px;right:24px;background:var(--navy);color:white;padding:14px 22px;border-radius:10px;font-size:14px;font-weight:500;z-index:500;opacity:0;transform:translateY(20px);transition:all .3s;pointer-events:none;max-width:340px}
.toast.show{opacity:1;transform:translateY(0)}
.toast.success{background:var(--green)}
.toast.error{background:var(--red)}

@media(max-width:480px){
.auth-form-card{padding:24px 18px}
.field-row{grid-template-columns:1fr}
.auth-wrap{padding:24px 16px}
}
</style>
</head>
<body>

<div class="auth-wrap">
<div class="auth-card">

<!-- Logo -->
<a href="index.html" class="auth-logo">
<div class="auth-logo-dot">S</div>
<div class="auth-logo-text">SellerShield</div>
</a>

<!-- Tabs -->
<div class="auth-tabs">
<button class="auth-tab active" onclick="switchTab('login')">–í–æ–π—Ç–∏</button>
<button class="auth-tab" onclick="switchTab('register')">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
</div>

<div class="auth-form-card">

<!-- Error message -->
<div class="auth-error" id="authError"><span>‚ö†</span> <span id="authErrorText"></span></div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê LOGIN FORM ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="auth-form active" id="loginForm">
<div class="field">
<label>Email</label>
<input type="email" id="loginEmail" placeholder="ivan@example.com" autocomplete="email">
</div>
<div class="field">
<label>–ü–∞—Ä–æ–ª—å</label>
<div class="pass-wrap">
<input type="password" id="loginPass" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" autocomplete="current-password">
<button class="pass-toggle" onclick="togglePass('loginPass', this)" type="button">üëÅ</button>
</div>
</div>
<div style="text-align:right;margin:-10px 0 16px">
<a href="#" style="font-size:13px;color:var(--blue);text-decoration:none;font-weight:500" onclick="forgotPassword(event)">–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?</a>
</div>
<button class="auth-btn" id="loginBtn" onclick="handleLogin()">
<span class="btn-text">–í–æ–π—Ç–∏</span>
<div class="spinner"></div>
</button>

<div class="auth-divider">–∏–ª–∏</div>

<button class="auth-social" onclick="telegramLogin()">
<svg viewBox="0 0 24 24" fill="none"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 00-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.41-1.08.4-.36-.01-1.04-.2-1.55-.37-.63-.2-1.12-.31-1.08-.66.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .38z" fill="#2563EB"/></svg>
–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Telegram
</button>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê REGISTER FORM ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="auth-form" id="registerForm">
<div class="field-row">
<div class="field">
<label>–ò–º—è</label>
<input type="text" id="regName" placeholder="–ò–≤–∞–Ω" autocomplete="given-name">
</div>
<div class="field">
<label>–§–∞–º–∏–ª–∏—è</label>
<input type="text" id="regSurname" placeholder="–ò–≤–∞–Ω–æ–≤" autocomplete="family-name">
</div>
</div>
<div class="field">
<label>Email</label>
<input type="email" id="regEmail" placeholder="ivan@example.com" autocomplete="email">
</div>
<div class="field">
<label>–¢–µ–ª–µ—Ñ–æ–Ω / Telegram</label>
<input type="text" id="regPhone" placeholder="+7 900 123-45-67">
<div class="field-hint">–î–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ —Å–≤—è–∑–∏</div>
</div>
<div class="field">
<label>–û—Å–Ω–æ–≤–Ω–æ–π –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å</label>
<select id="regMarket">
<option value="wb">Wildberries</option>
<option value="ozon">Ozon</option>
<option value="ym">–Ø–Ω–¥–µ–∫—Å –ú–∞—Ä–∫–µ—Ç</option>
<option value="multi">–ù–µ—Å–∫–æ–ª—å–∫–æ –ø–ª–æ—â–∞–¥–æ–∫</option>
</select>
</div>
<div class="field">
<label>–ü–∞—Ä–æ–ª—å</label>
<div class="pass-wrap">
<input type="password" id="regPass" placeholder="–ú–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤" autocomplete="new-password">
<button class="pass-toggle" onclick="togglePass('regPass', this)" type="button">üëÅ</button>
</div>
</div>
<div class="field">
<label>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å</label>
<div class="pass-wrap">
<input type="password" id="regPass2" placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å" autocomplete="new-password">
<button class="pass-toggle" onclick="togglePass('regPass2', this)" type="button">üëÅ</button>
</div>
</div>

<div class="check-row">
<input type="checkbox" id="regAgree">
<label for="regAgree">–°–æ–≥–ª–∞—Å–µ–Ω —Å <a href="#">—É—Å–ª–æ–≤–∏—è–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a> –∏ <a href="#">–ø–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a></label>
</div>

<button class="auth-btn" id="regBtn" onclick="handleRegister()">
<span class="btn-text">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</span>
<div class="spinner"></div>
</button>

<div class="auth-divider">–∏–ª–∏</div>

<button class="auth-social" onclick="telegramLogin()">
<svg viewBox="0 0 24 24" fill="none"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 00-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.41-1.08.4-.36-.01-1.04-.2-1.55-.37-.63-.2-1.12-.31-1.08-.66.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .38z" fill="#2563EB"/></svg>
–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram
</button>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SUCCESS STATE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="auth-success" id="regSuccess">
<div class="auth-success-icon">‚úÖ</div>
<h3>–ê–∫–∫–∞—É–Ω—Ç —Å–æ–∑–¥–∞–Ω!</h3>
<p>–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç...</p>
</div>

</div>

<!-- Footer -->
<div class="auth-footer">
<a href="index.html">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ —Å–∞–π—Ç</a>
</div>

</div>
</div>

<div class="toast" id="toast"></div>

<script>
/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê CONFIG ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
const CONFIG = {
  TELEGRAM_BOT_TOKEN: 'YOUR_BOT_TOKEN_HERE',
  TELEGRAM_CHAT_ID: 'YOUR_CHAT_ID_HERE',
  DASHBOARD_URL: 'dashboard.html'
};

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TAB SWITCHING ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function switchTab(tab) {
  document.querySelectorAll('.auth-tab').forEach((t, i) => {
    t.classList.toggle('active', (tab === 'login' && i === 0) || (tab === 'register' && i === 1));
  });
  document.getElementById('loginForm').classList.toggle('active', tab === 'login');
  document.getElementById('registerForm').classList.toggle('active', tab === 'register');
  document.getElementById('regSuccess').classList.remove('show');
  hideError();
}

// Auto-detect from URL hash
if (window.location.hash === '#register' || window.location.search.includes('register')) {
  switchTab('register');
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PASSWORD TOGGLE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function togglePass(id, btn) {
  const input = document.getElementById(id);
  const isPass = input.type === 'password';
  input.type = isPass ? 'text' : 'password';
  btn.textContent = isPass ? 'üôà' : 'üëÅ';
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ERROR HANDLING ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function showError(text) {
  const el = document.getElementById('authError');
  document.getElementById('authErrorText').textContent = text;
  el.classList.add('show');
  el.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
}
function hideError() {
  document.getElementById('authError').classList.remove('show');
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TOAST ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function showToast(msg, type = '') {
  const toast = document.getElementById('toast');
  toast.textContent = msg;
  toast.className = 'toast show ' + type;
  setTimeout(() => toast.classList.remove('show'), 3500);
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê LOGIN ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
async function handleLogin() {
  hideError();
  const email = document.getElementById('loginEmail').value.trim();
  const pass = document.getElementById('loginPass').value;

  if (!email) return showError('–í–≤–µ–¥–∏—Ç–µ email');
  if (!email.includes('@')) return showError('–ü—Ä–æ–≤–µ—Ä—å—Ç–µ email');
  if (!pass) return showError('–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å');
  if (pass.length < 6) return showError('–ü–∞—Ä–æ–ª—å —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π');

  const btn = document.getElementById('loginBtn');
  btn.classList.add('loading');
  btn.disabled = true;

  // –°–∏–º—É–ª—è—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞ (–∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π API)
  await new Promise(r => setTimeout(r, 1200));

  // –ü—Ä–æ–≤–µ—Ä—è–µ–º localStorage (–ø—Ä–æ—Å—Ç–∞—è –¥–µ–º–æ-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
  const users = JSON.parse(localStorage.getItem('ss_users') || '[]');
  const user = users.find(u => u.email === email && u.password === pass);

  if (user) {
    localStorage.setItem('ss_current_user', JSON.stringify(user));
    showToast('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!', 'success');
    setTimeout(() => window.location.href = CONFIG.DASHBOARD_URL, 800);
  } else {
    btn.classList.remove('loading');
    btn.disabled = false;
    showError('–ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å');
  }
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê REGISTER ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
async function handleRegister() {
  hideError();
  const name = document.getElementById('regName').value.trim();
  const surname = document.getElementById('regSurname').value.trim();
  const email = document.getElementById('regEmail').value.trim();
  const phone = document.getElementById('regPhone').value.trim();
  const market = document.getElementById('regMarket').value;
  const pass = document.getElementById('regPass').value;
  const pass2 = document.getElementById('regPass2').value;
  const agree = document.getElementById('regAgree').checked;

  // Validation
  if (!name) return showError('–í–≤–µ–¥–∏—Ç–µ –∏–º—è');
  if (!email || !email.includes('@')) return showError('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email');
  if (!phone || phone.length < 5) return showError('–í–≤–µ–¥–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω –∏–ª–∏ Telegram');
  if (pass.length < 8) return showError('–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤');
  if (pass !== pass2) return showError('–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç');
  if (!agree) return showError('–ü—Ä–∏–º–∏—Ç–µ —É—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è');

  // Check existing
  const users = JSON.parse(localStorage.getItem('ss_users') || '[]');
  if (users.find(u => u.email === email)) return showError('–≠—Ç–æ—Ç email —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω');

  const btn = document.getElementById('regBtn');
  btn.classList.add('loading');
  btn.disabled = true;

  // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  const user = {
    id: Date.now().toString(36),
    name, surname, email, phone, market,
    password: pass,
    plan: 'free', // –ù–µ –æ–ø–ª–∞—á–µ–Ω
    created: new Date().toISOString()
  };

  users.push(user);
  localStorage.setItem('ss_users', JSON.stringify(users));
  localStorage.setItem('ss_current_user', JSON.stringify(user));

  // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram
  if (CONFIG.TELEGRAM_BOT_TOKEN !== 'YOUR_BOT_TOKEN_HERE') {
    const marketNames = { wb: 'Wildberries', ozon: 'Ozon', ym: '–Ø–Ω–¥–µ–∫—Å –ú–∞—Ä–∫–µ—Ç', multi: '–ù–µ—Å–∫–æ–ª—å–∫–æ' };
    const msg = `üÜï *–ù–æ–≤–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è*\n\nüë§ ${name} ${surname}\nüìß ${email}\nüì± ${phone}\nüè™ ${marketNames[market] || market}\nüìÖ ${new Date().toLocaleString('ru-RU')}`;
    try {
      await fetch(`https://api.telegram.org/bot${CONFIG.TELEGRAM_BOT_TOKEN}/sendMessage`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ chat_id: CONFIG.TELEGRAM_CHAT_ID, text: msg, parse_mode: 'Markdown' })
      });
    } catch (e) { console.warn('TG failed:', e); }
  }

  console.log('üìã NEW USER:', user);

  // Show success
  document.getElementById('registerForm').style.display = 'none';
  document.getElementById('regSuccess').classList.add('show');

  setTimeout(() => window.location.href = CONFIG.DASHBOARD_URL, 2000);
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TELEGRAM LOGIN ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function telegramLogin() {
  showToast('Telegram-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è', '');
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê FORGOT PASSWORD ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function forgotPassword(e) {
  e.preventDefault();
  const email = document.getElementById('loginEmail').value.trim();
  if (!email) {
    showError('–í–≤–µ–¥–∏—Ç–µ email, —á—Ç–æ–±—ã —Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å');
    return;
  }
  showToast('–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ ' + email, 'success');
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ENTER KEY ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
document.addEventListener('keydown', (e) => {
  if (e.key === 'Enter') {
    if (document.getElementById('loginForm').classList.contains('active')) {
      handleLogin();
    } else if (document.getElementById('registerForm').classList.contains('active')) {
      handleRegister();
    }
  }
});
</script>
</body>
</html>
